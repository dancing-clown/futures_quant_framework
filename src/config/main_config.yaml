# 项目基础配置
project:
  name: "期货行情多源整合框架"
  version: "1.0.0"
  author: "Geason"  # 替换为你的名字
  data_dir: "data"  # 数据目录相对路径

# 日志配置（全链路日志，工程师重点关注）
logger:
  level: "DEBUG"        # 日志级别：DEBUG/INFO/WARNING/ERROR
  file_path: "logs/futures_framework.log"  # 日志文件路径（相对于项目根目录）
  max_bytes: 10485760  # 单个日志文件大小：10MB
  backup_count: 5      # 日志文件备份数量：5个
  format: "%(asctime)s - %(name)s - %(levelname)s - %(module)s:%(lineno)d - %(message)s"

# 行情源配置（多源开关，按需启用，贴合你的项目背景）
market_sources:
  ctp:
    enable: true       # 是否启用CTP行情
    # CTP SimNow 行情地址
    # host: "tcp://182.254.243.31:40011" # 夜盘使用
    host: "tcp://182.254.243.31:30011"  # 日盘使用
    # 不提供登录信息，使用匿名登录
    # broker_id: ""
    # investor_id: ""
    # password: ""
    flow_path: "./flow/" # 流文件路径
    subscribe_codes: ["zn2603", "y2605"]  # 订阅合约代码
    pybind_path: "extern_libs/ctp_pybind/build" # ctp_pybind.so 编译输出路径
  zhengyi_zmq:
    enable: false       # 是否启用正瀛 ZMQ PUB 模式行情
    dce_address: "tcp://101.133.152.163:23333" # 大商所 ZMQ 地址
    czce_address: "tcp://101.133.152.163:23355" # 郑商所 ZMQ 地址
  guangfa:
    enable: false       # 是否启用广发环网/广期所行情
    http_url: "https://guangfa_futures_api.com"  # HTTP接口地址
    ws_url: "wss://guangfa_futures_ws.com"       # WebSocket接口地址
    api_key: "your_guangfa_api_key"              # 广发API密钥
    subscribe_exchanges: ["SHFE", "INE", "DCE", "CZCE", "GFEX"]  # 订阅交易所
  zhengying:
    enable: false       # 是否启用正瀛行情
    host: "zhengying_api_host"
    port: 9090
    subscribe_exchanges: ["DCE", "CZCE"]  # 正瀛覆盖：大商所/郑商所

# 采集策略配置
collect:
  mode: "async"        # 采集模式：async（异步，推荐）/sync（同步）
  interval: 0.1        # 同步采集间隔（秒，异步无需配置）
  retry_count: 3       # 采集失败重试次数
  retry_interval: 1    # 重试间隔（秒）
  timeout: 5           # 接口超时时间（秒）

# 数据存储配置（多存储方案，按需启用）
storage:
  default: "tsdb"      # 默认存储方案：tsdb/file/redis
  tsdb:
    enable: true
    type: "influxdb"   # 时序库类型：influxdb/timescaledb
    host: "127.0.0.1"
    port: 8086
    database: "futures_market"
    token: "your_influxdb_token"
    org: "futures_org"
  file:
    enable: true
    type: "parquet"    # 文件格式：parquet（推荐，压缩比高）/csv
    save_interval: 60  # 定时保存间隔（秒）
  redis:
    enable: true
    host: "172.16.13.8"
    port: 6371
    db: 0
    password: "LZy32C2kNHqsvu4Uyj"
    expire: 3600       # 缓存过期时间（秒）